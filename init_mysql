import pymysql
import random
from werkzeug.security import generate_password_hash
import os

# --- CONFIGURACIÃ“N DE LA CONEXIÃ“N A MYSQL ---
DB_HOST = os.getenv("DB_HOST", "pets-do-user-22984484-0.m.db.ondigitalocean.com")
DB_PORT = int(os.getenv("DB_PORT", "25060"))
DB_USER = os.getenv("DB_USER", "doadmin")
DB_PASSWORD = os.getenv("DB_PASSWORD", "AVNS_xCPVX1qkvAfYAnNHWKk")
DB_NAME = os.getenv("DB_NAME", "defaultdb")

def conectar():
    return pymysql.connect(
        host=DB_HOST,
        port=DB_PORT,
        user=DB_USER,
        password=DB_PASSWORD,
        database=DB_NAME,
        ssl={"ssl_mode": "REQUIRED"},
        cursorclass=pymysql.cursors.DictCursor
    )

# --- CREAR TABLAS EN LA BASE DE DATOS ---
def crear_tablas(cursor):
    queries = [
        """DROP TABLE IF EXISTS servicios_cuidadores""",
        """DROP TABLE IF EXISTS reseÃ±as""",
        """DROP TABLE IF EXISTS cuidadores""",
        """DROP TABLE IF EXISTS usuarios""",
        """DROP TABLE IF EXISTS mensajes_contacto""",

        """CREATE TABLE IF NOT EXISTS usuarios (
            id INTEGER PRIMARY KEY AUTO_INCREMENT,
            nombre VARCHAR(255) NOT NULL,
            email VARCHAR(255) UNIQUE NOT NULL,
            password TEXT NOT NULL,
            tipo_usuario VARCHAR(20) CHECK(tipo_usuario IN ('cliente', 'cuidador', 'admin')) DEFAULT 'cliente'
        )""",

        """CREATE TABLE IF NOT EXISTS cuidadores (
            id INTEGER PRIMARY KEY AUTO_INCREMENT,
            usuario_id INTEGER UNIQUE,
            descripcion TEXT,
            ubicacion VARCHAR(255),
            lat REAL,
            lng REAL,
            foto TEXT,
            rating REAL DEFAULT 0,
            FOREIGN KEY(usuario_id) REFERENCES usuarios(id) ON DELETE CASCADE
        )""",

        """CREATE TABLE IF NOT EXISTS servicios_cuidadores (
            id INTEGER PRIMARY KEY AUTO_INCREMENT,
            cuidador_id INTEGER,
            servicio VARCHAR(100),
            FOREIGN KEY(cuidador_id) REFERENCES usuarios(id) ON DELETE CASCADE
        )""",

        """CREATE TABLE IF NOT EXISTS reseÃ±as (
            id INTEGER PRIMARY KEY AUTO_INCREMENT,
            cuidador_id INTEGER,
            cliente_id INTEGER,
            texto TEXT,
            calificacion INTEGER CHECK(calificacion >= 1 AND calificacion <= 5),
            FOREIGN KEY(cuidador_id) REFERENCES usuarios(id) ON DELETE CASCADE,
            FOREIGN KEY(cliente_id) REFERENCES usuarios(id) ON DELETE CASCADE
        )""",

        """CREATE TABLE IF NOT EXISTS mensajes_contacto (
            id INTEGER PRIMARY KEY AUTO_INCREMENT,
            nombre TEXT NOT NULL,
            email TEXT NOT NULL,
            asunto TEXT NOT NULL,
            mensaje TEXT NOT NULL,
            fecha_creacion TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
            leido BOOLEAN DEFAULT 0
        )"""
    ]

    for query in queries:
        print(f"Ejecutando: {query[:60]}...")
        cursor.execute(query)
    print("âœ… Tablas creadas correctamente.")

# --- INSERTAR DATOS INICIALES ---
def insertar_datos_iniciales(cursor):
    # Clientes de ejemplo
    clientes_para_insertar = [
        ("Juan PÃ©rez", "juan@example.com", generate_password_hash("pass123", method='pbkdf2:sha256')),
        ("Ana GÃ³mez", "ana@example.com", generate_password_hash("pass456", method='pbkdf2:sha256')),
        ("Carlos MÃ©ndez", "carlos@example.com", generate_password_hash("pass789", method='pbkdf2:sha256')),
        ("Laura FernÃ¡ndez", "laura@example.com", generate_password_hash("pass101", method='pbkdf2:sha256')),
        ("Diego Torres", "diego@example.com", generate_password_hash("pass202", method='pbkdf2:sha256')),
        ("Federico Ruiz", "fede@example.com", generate_password_hash("pass606", method='pbkdf2:sha256')),
        ("Valeria Mendoza", "valeria@example.com", generate_password_hash("pass707", method='pbkdf2:sha256')),
        ("Gonzalo DÃ­az", "gonzalo@example.com", generate_password_hash("pass404", method='pbkdf2:sha256')),
        ("Silvia Luna", "silvia@example.com", generate_password_hash("pass505", method='pbkdf2:sha256'))
    ]
    cliente_ids = []

    for nombre, email, password in clientes_para_insertar:
        cursor.execute("""
            INSERT INTO usuarios (nombre, email, password, tipo_usuario)
            VALUES (%s, %s, %s, 'cliente')
        """, (nombre, email, password))
        cliente_id = cursor.lastrowid
        cliente_ids.append(cliente_id)

    print("ðŸ‘¥ Clientes insertados.")
        

        
    # Cuidadores de ejemplo
    cuidadores_datos = [
            {
            "nombre": "MarÃ­a LÃ³pez",
            "email": "maria@pets.com",
            "password": generate_password_hash("pass789", method='pbkdf2:sha256'),
            "descripcion": "Ofrezco alojamiento seguro en mi casa con patio.",
            "ubicacion": "LanÃºs, Buenos Aires",
            "lat": -34.7062,
            "lng": -58.3900,
            "rating": 4.8,
            "servicios": ["Alojamiento", "Paseos"],
            }   ,
            {
            "nombre": "Carlos Rossi",
            "email": "carlos@pets.com",
            "password": generate_password_hash("pass101", method='pbkdf2:sha256'),
            "descripcion": "Cuido mascotas con necesidades especiales o de alto riesgo.",
            "ubicacion": "Avellaneda, Buenos Aires",
            "lat": -34.6680,
            "lng": -58.3740,
            "rating": 4.5,
            "servicios": ["Cuidado Especializado", "Transporte"],
            },
            {
            "nombre": "Laura MartÃ­nez",
            "email": "laura@pets.com",
            "password": generate_password_hash("pass202", method='pbkdf2:sha256'),
            "descripcion": "PeluquerÃ­a profesional canina y felina.",
            "ubicacion": "Lomas de Zamora, Buenos Aires",
            "lat": -34.7480,
            "lng": -58.4530,
            "rating": 4.7,
            "servicios": ["PeluquerÃ­a", "BaÃ±o", "Corte de uÃ±as"],
            },
            {
            "nombre": "Javier DomÃ­nguez",
            "email": "javier@pets.com",
            "password": generate_password_hash("pass303", method='pbkdf2:sha256'),
            "descripcion": "Paseos diarios en grupo pequeÃ±os y seguros.",
            "ubicacion": "Quilmes, Buenos Aires",
            "lat": -34.7190,
            "lng": -58.2580,
            "rating": 4.6,
            "servicios": ["Paseos", "Visitas a domicilio"],
            },
            {
            "nombre": "VerÃ³nica Sosa",
            "email": "veronica@pets.com",
            "password": generate_password_hash("pass404", method='pbkdf2:sha256'),
            "descripcion": "Experiencia con animales mayores y post-operatorios.",
            "ubicacion": "Florencio Varela, Buenos Aires",
            "lat": -34.7680,
            "lng": -58.2620,
            "rating": 4.9,
            "servicios": ["Cuidado Especializado", "RehabilitaciÃ³n", "Paseos"],
            },
            {
            "nombre": "MartÃ­n RoldÃ¡n",
            "email": "martin@pets.com",
            "password": generate_password_hash("pass505", method='pbkdf2:sha256'),
            "descripcion": "Ofrezco guarderÃ­a canina durante todo el dÃ­a.",
            "ubicacion": "Temperley, Buenos Aires",
            "lat": -34.7620,
            "lng": -58.4220,
            "rating": 4.3,
            "servicios": ["GuarderÃ­a", "Paseos", "Alojamiento"],
            }   ,
            {
            "nombre": "LucÃ­a BenÃ­tez",
            "email": "lucia@pets.com",
            "password": generate_password_hash("pass606", method='pbkdf2:sha256'),
            "descripcion": "Cuido gatos con experiencia en alimentaciÃ³n especializada.",
            "ubicacion": "AdroguÃ©, Buenos Aires",
            "lat": -34.7625,
            "lng": -58.4280,
            "rating": 4.7,
            "servicios": ["Cuidado de gatos", "AlimentaciÃ³n especializada"],
            },
            {
            "nombre": "NicolÃ¡s Ortega",
            "email": "nicolas@pets.com",
            "password": generate_password_hash("pass707", method='pbkdf2:sha256'),
            "descripcion": "Servicio de transporte pet friendly desde y hacia zoolÃ³gicos y clÃ­nicas.",
            "ubicacion": "Wilde, Buenos Aires",
            "lat": -34.7120,
            "lng": -58.3860,
            "rating": 4.6,
            "servicios": ["Transporte", "Paseos"],
            },
            {
            "nombre": "Patricia Duarte",
            "email": "patricia@pets.com",
            "password": generate_password_hash("pass808", method='pbkdf2:sha256'),
            "descripcion": "Cuido mascotas en mi hogar familiar. Tienen espacio interior y exterior.",
            "ubicacion": "ValentÃ­n Alsina, Buenos Aires",
            "lat": -34.7150,
            "lng": -58.3840,
            "rating": 4.5,
            "servicios": ["Alojamiento", "Paseos", "GuarderÃ­a"],
            },
            {
            "nombre": "Roberto Ledesma",
            "email": "roberto@pets.com",
            "password": generate_password_hash("pass909", method='pbkdf2:sha256'),
            "descripcion": "Especialista en perros grandes y de raza pura.",
            "ubicacion": "SarandÃ­, Buenos Aires",
            "lat": -34.7140,
            "lng": -58.3800,
            "rating": 4.8,
            "servicios": ["Cuidado Especializado", "Alojamiento", "Paseos"],
            },
            {
            "nombre": "Mariana JuÃ¡rez",
            "email": "mariana@pets.com",
            "password": generate_password_hash("pass1010", method='pbkdf2:sha256'),
            "descripcion": "Ofrezco servicios personalizados para mascotas nerviosas o con miedo a personas nuevas.",
            "ubicacion": "Claypole, Buenos Aires",
            "lat": -34.7840,
            "lng": -58.4150,
            "rating": 4.4,
            "servicios": ["Cuidado Especializado", "Paseos"],
            },
            {
            "nombre": "Fernando Acosta",
            "email": "fernando@pets.com",
            "password": generate_password_hash("pass1111", method='pbkdf2:sha256'),
            "descripcion": "GuarderÃ­a canina con juegos y monitores profesionales.",
            "ubicacion": "Ezeiza, Buenos Aires",
            "lat": -34.8000,
            "lng": -58.5000,
            "rating": 4.2,
            "servicios": ["GuarderÃ­a", "Paseos", "Entrenamiento bÃ¡sico"],
            },
            {
            "nombre": "SofÃ­a Ãvila",
            "email": "sofia@pets.com",
            "password": generate_password_hash("pass1212", method='pbkdf2:sha256'),
            "descripcion": "Tengo experiencia con mascotas que requieren medicaciÃ³n constante.",
            "ubicacion": "Esteban EcheverrÃ­a, Buenos Aires",
            "lat": -34.8200,
            "lng": -58.4500,
            "rating": 4.7,
            "servicios": ["Cuidado Especializado", "Alojamiento"],
            },
            {
            "nombre": "Hugo Almada",
            "email": "hugo@pets.com",
            "password": generate_password_hash("pass1313", method='pbkdf2:sha256'),
            "descripcion": "Cuido gatos y perros en un entorno tranquilo y seguro.",
            "ubicacion": "San Francisco Solano, Buenos Aires",
            "lat": -34.7200,
            "lng": -58.3800,
            "rating": 4.5,
            "servicios": ["Alojamiento", "Paseos", "GuarderÃ­a"],
            },
            {
            "nombre": "Carla MÃ¡rquez",
            "email": "carla@pets.com",
            "password": generate_password_hash("pass1414", method='pbkdf2:sha256'),
            "descripcion": "Espacio amplio y techado ideal para mascotas alÃ©rgicas al sol.",
            "ubicacion": "Rafael Calzada, Buenos Aires",
            "lat": -34.7500,
            "lng": -58.4100,
            "rating": 4.6,
            "servicios": ["Alojamiento", "GuarderÃ­a", "PeluquerÃ­a"],
            },
            {
            "nombre": "Alejandro Salinas",
            "email": "alejandro@pets.com",
            "password": generate_password_hash("pass1515", method='pbkdf2:sha256'),
            "descripcion": "Paseos temprano en la maÃ±ana y tarde-noche.",
            "ubicacion": "Ciudad Evita, Buenos Aires",
            "lat": -34.7300,
            "lng": -58.4000,
            "rating": 4.3,
            "servicios": ["Paseos", "GuarderÃ­a"],
            },
            {
            "nombre": "Romina Vega",
            "email": "romina@pets.com",
            "password": generate_password_hash("pass1616", method='pbkdf2:sha256'),
            "descripcion": "Trabajo con veterinarios locales para brindar servicio completo.",
            "ubicacion": "Gerli, Buenos Aires",
            "lat": -34.7000,
            "lng": -58.3900,
            "rating": 4.7,
            "servicios": ["Cuidado Especializado", "Alojamiento", "PeluquerÃ­a", "Paseos"],
            },
            {
            "nombre": "AgustÃ­n Funes",
            "email": "agustin@pets.com",
            "password": generate_password_hash("pass1717", method='pbkdf2:sha256'),
            "descripcion": "Cuido perros de razas pequeÃ±as y medianas en mi departamento espacioso.",
            "ubicacion": "PiÃ±eyro, Buenos Aires",
            "lat": -34.7300,
            "lng": -58.3700,
            "rating": 4.4,
            "servicios": ["Alojamiento", "Paseos"],
            },
            {
            "nombre": "Paula Navarro",
            "email": "paula@pets.com",
            "password": generate_password_hash("pass1818", method='pbkdf2:sha256'),
            "descripcion": "Amo los gatos y ofrezco hospedaje silencioso y sin perros.",
            "ubicacion": "Don Torcuato, Buenos Aires",
            "lat": -34.4980,
            "lng": -58.5680,
            "rating": 4.8,
            "servicios": ["Cuidado de gatos", "GuarderÃ­a"],
            },
            {
            "nombre": "Facundo Bravo",
            "email": "facundo@pets.com",
            "password": generate_password_hash("pass1919", method='pbkdf2:sha256'),
            "descripcion": "Mi casa tiene un jardÃ­n grande y hago paseos controlados.",
            "ubicacion": "Bernal, Buenos Aires",
            "lat": -34.7200,
            "lng": -58.3800,
            "rating": 4.6,
            "servicios": ["Alojamiento", "Paseos", "GuarderÃ­a"],
            },
            {
            "nombre": "DamiÃ¡n Rojas",
            "email": "damian@pets.com",
            "password": generate_password_hash("pass2020", method='pbkdf2:sha256'),
            "descripcion": "Experiencia con cachorros y entrenamiento bÃ¡sico.",
            "ubicacion": "Villa Dominico, Buenos Aires",
            "lat": -34.7000,
            "lng": -58.3900,
            "rating": 4.5,
            "servicios": ["Paseos", "Entrenamiento", "Alojamiento"],
            },
            {
            "nombre": "BelÃ©n CÃ¡ceres",
            "email": "belen@pets.com",
            "password": generate_password_hash("pass2121", method='pbkdf2:sha256'),
            "descripcion": "Cuido mascotas en mi casa con sistema de cÃ¡maras disponibles las 24hs.",
            "ubicacion": "Monte Chingolo, Buenos Aires",
            "lat": -34.7200,
            "lng": -58.3700,
            "rating": 4.6,
            "servicios": ["Alojamiento", "Visitas a domicilio"],
            },
            {
            "nombre": "TomÃ¡s LeÃ³n",
            "email": "tomas@pets.com",
            "password": generate_password_hash("pass2222", method='pbkdf2:sha256'),
            "descripcion": "Ofrezco masajes relajantes y terapias naturales.",
            "ubicacion": "Dock Sud, Buenos Aires",
            "lat": -34.7300,
            "lng": -58.4100,
            "rating": 4.3,
            "servicios": ["Cuidado Especializado", "Paseos", "Masajes"],
            },
            {
            "nombre": "InÃ©s Bustamante",
            "email": "ines@pets.com",
            "password": generate_password_hash("pass2323", method='pbkdf2:sha256'),
            "descripcion": "Tengo experiencia con perros sordos, ciegos o discapacitados.",
            "ubicacion": "JosÃ© MÃ¡rmol, Buenos Aires",
            "lat": -34.7400,
            "lng": -58.4100,
            "rating": 4.9,
            "servicios": ["Cuidado Especializado", "Paseos", "Alojamiento"],
            },
            {
            "nombre": "Santiago NÃºÃ±ez",
            "email": "santiago@pets.com",
            "password": generate_password_hash("pass2424", method='pbkdf2:sha256'),
            "descripcion": "Mis mascotas viven como si estuvieran en su propia casa.",
            "ubicacion": "Ezeiza, Buenos Aires",
            "lat": -34.8000,
            "lng": -58.5000,
            "rating": 4.7,
            "servicios": ["Alojamiento", "Paseos", "GuarderÃ­a"],
            },
            {
            "nombre": "Camila Ochoa",
            "email": "camila@pets.com",
            "password": generate_password_hash("pass2525", method='pbkdf2:sha256'),
            "descripcion": "Soy mÃ©dica veterinaria y ofrezco cuidados profesionales y atenciÃ³n mÃ©dica bÃ¡sica.",
            "ubicacion": "AdroguÃ©, Buenos Aires",
            "lat": -34.7625,
            "lng": -58.4280,
            "rating": 4.9,
            "servicios": ["Cuidado Especializado", "Alojamiento", "PeluquerÃ­a"],
            },
            {
            "nombre": "Luciano Franco",
            "email": "luciano@pets.com",
            "password": generate_password_hash("pass2626", method='pbkdf2:sha256'),
            "descripcion": "Tengo experiencia con perros agresivos o con ansiedad por separaciÃ³n.",
            "ubicacion": "LanÃºs, Buenos Aires",
            "lat": -34.7062,
            "lng": -58.3900,
            "rating": 4.8,
            "servicios": ["Cuidado Especializado", "Alojamiento", "Entrenamiento"],
            },
            {
            "nombre": "Celeste Ibarra",
            "email": "celeste@pets.com",
            "password": generate_password_hash("pass2727", method='pbkdf2:sha256'),
            "descripcion": "Ofrezco servicios de peluquerÃ­a y spa para mascotas.",
            "ubicacion": "Wilde, Buenos Aires",
            "lat": -34.7120,
            "lng": -58.3860,
            "rating": 4.6,
            "servicios": ["PeluquerÃ­a", "Spa", "Paseos"],
            },
            {
            "nombre": "AndrÃ©s Mena",
            "email": "andres@pets.com",
            "password": generate_password_hash("pass2828", method='pbkdf2:sha256'),
            "descripcion": "Cuido mascotas en una finca amplia con acceso a Ã¡reas verdes y sombra.",
            "ubicacion": "Florencio Varela, Buenos Aires",
            "lat": -34.7680,
            "lng": -58.2620,
            "rating": 4.5,
            "servicios": ["Alojamiento", "Paseos", "GuarderÃ­a"],
            },
            {
            "nombre": "Daniela Soria",
            "email": "daniela@pets.com",
            "password": generate_password_hash("pass2929", method='pbkdf2:sha256'),
            "descripcion": "Tengo experiencia con mascotas alÃ©rgicas y dietas especiales.",
            "ubicacion": "Claypole, Buenos Aires",
            "lat": -34.7840,
            "lng": -58.4150,
            "rating": 4.7,
            "servicios": ["Cuidado Especializado", "Alojamiento", "Paseos"],
            },
            {
            "nombre": "SebastiÃ¡n Lagos",
            "email": "sebas@pets.com",
            "password": generate_password_hash("pass3030", method='pbkdf2:sha256'),
            "descripcion": "Transporte puerta a puerta con vehÃ­culos adaptados para mascotas.",
            "ubicacion": "ValentÃ­n Alsina, Buenos Aires",
            "lat": -34.7150,
            "lng": -58.3840,
            "rating": 4.6,
            "servicios": ["Transporte", "Paseos", "Visitas a domicilio"],
            }
        ]




    

    cuidador_ids = []

    for cuidador in cuidadores_datos:
        cursor.execute("""
            INSERT INTO usuarios (nombre, email, password, tipo_usuario)
            VALUES (%s, %s, %s, 'cuidador')
        """, (cuidador["nombre"], cuidador["email"], cuidador["password"]))
        usuario_id = cursor.lastrowid
        cuidador_ids.append(usuario_id)

        cursor.execute("""
            INSERT INTO cuidadores (usuario_id, descripcion, ubicacion, lat, lng, rating)
            VALUES (%s, %s, %s, %s, %s, %s)
        """, (
            usuario_id,
            cuidador["descripcion"],
            cuidador["ubicacion"],
            cuidador["lat"],
            cuidador["lng"],
            cuidador["rating"]
        ))

        for servicio in cuidador["servicios"]:
            cursor.execute("""
                INSERT INTO servicios_cuidadores (cuidador_id, servicio)
                VALUES (%s, %s)
            """, (usuario_id, servicio))

    print("ðŸ¾ Cuidadores y servicios insertados.")

    # ReseÃ±as de ejemplo
    reseÃ±a_textos = [
        "Servicio rÃ¡pido y eficiente. Totalmente satisfecho.",
        "El lugar es seguro y amplio. Muy buena experiencia.",
        "Tienen mucha paciencia con los animales. Excelente trabajo.",
        "Muy buen trato, atenciÃ³n personalizada y constante.",
        "Profesionalismo y cariÃ±o con mis mascotas. VolverÃ© a usar sus servicios.",
        "Siempre me mantuvo informado del estado de mi mascota.",
        "Amor y dedicaciÃ³n en cada momento. Â¡Gracias!",
        "Muy limpio y organizado. Todo bajo control.",
        "Mis mascotas estÃ¡n felices despuÃ©s de su estadÃ­a.",
        "Trato amoroso y respetuoso. Altamente recomendado.",
        "Muy buen ambiente y espacio para jugar.",
        "CuidÃ³ a mi mascota enferma con mucho mimo y responsabilidad.",
        "Servicio impecable. SuperÃ³ mis expectativas.",
        "Muy atento y comprometido con el bienestar animal.",
        "DejÃ© a mi perro por trabajo y volviÃ³ mÃ¡s feliz que nunca.",
        "Gran atenciÃ³n al detalle. Mi mascota comiÃ³ muy bien y durmiÃ³ tranquila.",
        "Un lugar seguro y lleno de amor. Lo recomiendo sin dudar.",
        "Me encantÃ³ cÃ³mo interactuÃ³ con mi gato tÃ­mido. Excelente manejo.",
        "Paseos diarios, comida balanceada y mucho cariÃ±o. Â¡Impecable!",
        "Muy profesional y puntual. ComunicaciÃ³n fluida y clara."
    ]

    reseÃ±as_datos = []
    for i in range(30):
        cliente_id = random.choice(cliente_ids) if cliente_ids else None
        cuidador_id = random.choice(cuidador_ids) if cuidador_ids else None
        texto = random.choice(reseÃ±a_textos)
        calificacion = round(random.uniform(4.5, 5), 1)  # Entre 4.5 y 5 estrellas
        reseÃ±as_datos.append((cuidador_id, cliente_id, texto, int(calificacion)))

    cursor.executemany("""
        INSERT INTO reseÃ±as (cuidador_id, cliente_id, texto, calificacion)
        VALUES (%s, %s, %s, %s)
    """, reseÃ±as_datos)
    print("â­ ReseÃ±as insertadas correctamente.")

    # Administrador
    cursor.execute("""
        SELECT COUNT(*) AS count FROM usuarios WHERE tipo_usuario = 'admin'
    """)
    if cursor.fetchone()['count'] == 0:
        hashed = generate_password_hash("admin", method='pbkdf2:sha256')
        cursor.execute("""
            INSERT INTO usuarios (nombre, email, password, tipo_usuario)
            VALUES (%s, %s, %s, 'admin')
        """, ("Administrador", "admin@admin.com", hashed))
        print("ðŸ‘®â€â™‚ï¸ Usuario administrador creado.")

    print("ðŸŽ‰ Datos iniciales insertados exitosamente.")

# --- FUNCIÃ“N PRINCIPAL ---
def main():
    try:
        conn = conectar()
        with conn.cursor() as cursor:
            crear_tablas(cursor)
            insertar_datos_iniciales(cursor)
        conn.commit()
        print("ðŸŽ‰ InicializaciÃ³n completada exitosamente.")
    except Exception as e:
        print(f"âŒ Error al inicializar la base de datos: {e}")
    finally:
        conn.close()

if __name__ == "__main__":
    main()